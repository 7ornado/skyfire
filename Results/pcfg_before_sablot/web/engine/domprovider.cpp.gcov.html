<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - trace.lcov_info_final - engine/domprovider.cpp</title>
  <link rel="stylesheet" type="text/css" href="../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../index.html">top level</a> - <a href="index.html">engine</a> - domprovider.cpp<span style="font-size: 80%;"> (source / <a href="domprovider.cpp.func.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">trace.lcov_info_final</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">140</td>
            <td class="headerCovTableEntry">348</td>
            <td class="headerCovTableEntryLo">40.2 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2016-10-12</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">29</td>
            <td class="headerCovTableEntry">58</td>
            <td class="headerCovTableEntryLo">50.0 %</td>
          </tr>
          <tr><td><img src="../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">          Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>            : /* </a>
<span class="lineNum">       2 </span>            :  * The contents of this file are subject to the Mozilla Public
<span class="lineNum">       3 </span>            :  * License Version 1.1 (the &quot;License&quot;); you may not use this file
<span class="lineNum">       4 </span>            :  * except in compliance with the License. You may obtain a copy of
<span class="lineNum">       5 </span>            :  * the License at http://www.mozilla.org/MPL/
<span class="lineNum">       6 </span>            :  * 
<span class="lineNum">       7 </span>            :  * Software distributed under the License is distributed on an &quot;AS
<span class="lineNum">       8 </span>            :  * IS&quot; basis, WITHOUT WARRANTY OF ANY KIND, either express or
<span class="lineNum">       9 </span>            :  * implied. See the License for the specific language governing
<span class="lineNum">      10 </span>            :  * rights and limitations under the License.
<span class="lineNum">      11 </span>            :  * 
<span class="lineNum">      12 </span>            :  * The Original Code is the Sablotron XSLT Processor.
<span class="lineNum">      13 </span>            :  * 
<span class="lineNum">      14 </span>            :  * The Initial Developer of the Original Code is Ginger Alliance Ltd.
<span class="lineNum">      15 </span>            :  * Portions created by Ginger Alliance are Copyright (C) 2000-2002
<span class="lineNum">      16 </span>            :  * Ginger Alliance Ltd. All Rights Reserved.
<span class="lineNum">      17 </span>            :  * 
<span class="lineNum">      18 </span>            :  * Contributor(s):
<span class="lineNum">      19 </span>            :  * 
<span class="lineNum">      20 </span>            :  * Alternatively, the contents of this file may be used under the
<span class="lineNum">      21 </span>            :  * terms of the GNU General Public License Version 2 or later (the
<span class="lineNum">      22 </span>            :  * &quot;GPL&quot;), in which case the provisions of the GPL are applicable 
<span class="lineNum">      23 </span>            :  * instead of those above.  If you wish to allow use of your 
<span class="lineNum">      24 </span>            :  * version of this file only under the terms of the GPL and not to
<span class="lineNum">      25 </span>            :  * allow others to use your version of this file under the MPL,
<span class="lineNum">      26 </span>            :  * indicate your decision by deleting the provisions above and
<span class="lineNum">      27 </span>            :  * replace them with the notice and other provisions required by
<span class="lineNum">      28 </span>            :  * the GPL.  If you do not delete the provisions above, a recipient
<span class="lineNum">      29 </span>            :  * may use your version of this file under either the MPL or the
<span class="lineNum">      30 </span>            :  * GPL.
<span class="lineNum">      31 </span>            :  */
<span class="lineNum">      32 </span>            : 
<span class="lineNum">      33 </span>            : #define SablotAsExport
<span class="lineNum">      34 </span>            : #include &quot;sablot.h&quot;
<span class="lineNum">      35 </span>            : #include &quot;domprovider.h&quot;
<span class="lineNum">      36 </span>            : #include &quot;verts.h&quot;
<span class="lineNum">      37 </span>            : #include &quot;tree.h&quot;
<span class="lineNum">      38 </span>            : #include &quot;context.h&quot;
<span class="lineNum">      39 </span>            : #include &quot;proc.h&quot;
<span class="lineNum">      40 </span>            : #include &quot;vars.h&quot;
<span class="lineNum">      41 </span>            : #include &quot;guard.h&quot;
<span class="lineNum">      42 </span>            : #include &lt;string.h&gt;
<a name="43"><span class="lineNum">      43 </span>            : </a>
<span class="lineNum">      44 </span>            : /* DOMProvider */
<span class="lineNum">      45 </span><span class="lineCov">      64545 : void DOMProvider::constructStringValue(SXP_Node n, DStr &amp;result)</span>
<span class="lineNum">      46 </span>            : {
<span class="lineNum">      47 </span><span class="lineCov">      64545 :     switch(getNodeType(n)) {</span>
<span class="lineNum">      48 </span>            :     case ATTRIBUTE_NODE:
<span class="lineNum">      49 </span>            :     case NAMESPACE_NODE:
<span class="lineNum">      50 </span>            :     case PROCESSING_INSTRUCTION_NODE:
<span class="lineNum">      51 </span>            :     case COMMENT_NODE:
<span class="lineNum">      52 </span>            :     case TEXT_NODE:
<span class="lineNum">      53 </span>            :       {
<span class="lineNum">      54 </span><span class="lineCov">      31775 :         const SXP_char* val = getNodeValue(n);</span>
<span class="lineNum">      55 </span><span class="lineCov">      31775 :         if (val)</span>
<span class="lineNum">      56 </span>            :           {
<span class="lineNum">      57 </span><span class="lineCov">      31775 :             result += val; </span>
<span class="lineNum">      58 </span><span class="lineCov">      31775 :             freeValue(n, (char*)val);</span>
<span class="lineNum">      59 </span>            :           }
<span class="lineNum">      60 </span>            :       }; break;
<span class="lineNum">      61 </span>            :     case DOCUMENT_NODE:
<span class="lineNum">      62 </span>            :     case ELEMENT_NODE:
<span class="lineNum">      63 </span>            :       {
<span class="lineNum">      64 </span><span class="lineCov">      62228 :         for (NodeHandle son = getFirstChild(n); !nhNull(son); son = getNextSibling(son))</span>
<span class="lineNum">      65 </span><span class="lineCov">      29458 :           switch(getNodeType(son)) {</span>
<span class="lineNum">      66 </span>            :           case ELEMENT_NODE:
<span class="lineNum">      67 </span>            :           case TEXT_NODE:
<span class="lineNum">      68 </span>            :             {
<span class="lineNum">      69 </span><span class="lineCov">      29458 :               constructStringValue(son, result);</span>
<span class="lineNum">      70 </span><span class="lineCov">      29458 :             }; break;</span>
<span class="lineNum">      71 </span>            :           default:
<span class="lineNum">      72 </span>            :             {
<span class="lineNum">      73 </span>            :               //nothing
<span class="lineNum">      74 </span>            :             }; break;
<span class="lineNum">      75 </span>            :           }
<span class="lineNum">      76 </span>            :       }; break;
<span class="lineNum">      77 </span>            :     }
<a name="78"><span class="lineNum">      78 </span><span class="lineCov">      64545 : }</span></a>
<span class="lineNum">      79 </span>            : 
<span class="lineNum">      80 </span><span class="lineCov">     101387 : SXP_Node DOMProvider::getFirstChild(SXP_Node n)</span>
<span class="lineNum">      81 </span>            : {
<span class="lineNum">      82 </span><span class="lineCov">     134157 :     return getChildNo(n,0);</span>
<a name="83"><span class="lineNum">      83 </span>            : }</a>
<span class="lineNum">      84 </span>            : 
<span class="lineNum">      85 </span><span class="lineNoCov">          0 : void DOMProvider::freeName(NodeHandle n, char *buff)</span>
<span class="lineNum">      86 </span>            : {
<span class="lineNum">      87 </span><span class="lineNoCov">          0 :   sabassert(!&quot;abstract DOMProvider::freeName()&quot;);</span>
<a name="88"><span class="lineNum">      88 </span>            : }</a>
<span class="lineNum">      89 </span>            : 
<span class="lineNum">      90 </span><span class="lineNoCov">          0 : void DOMProvider::freeValue(NodeHandle n, char *buff)</span>
<span class="lineNum">      91 </span>            : {
<span class="lineNum">      92 </span><span class="lineNoCov">          0 :   sabassert(!&quot;abstract DOMProvider::freeValue()&quot;);</span>
<a name="93"><span class="lineNum">      93 </span>            : }</a>
<span class="lineNum">      94 </span>            : 
<span class="lineNum">      95 </span><span class="lineNoCov">          0 : eFlag DOMProvider::startCopy(Sit S, NodeHandle n, OutputterObj &amp;outputter)</span>
<span class="lineNum">      96 </span>            : {
<span class="lineNum">      97 </span><span class="lineNoCov">          0 :   sabassert(!&quot;abstract DOMProvider::startCopy()&quot;);</span>
<span class="lineNum">      98 </span>            :   return OK;
<a name="99"><span class="lineNum">      99 </span>            : }</a>
<span class="lineNum">     100 </span>            : 
<span class="lineNum">     101 </span><span class="lineNoCov">          0 : eFlag DOMProvider::endCopy(Sit S, NodeHandle n, OutputterObj &amp;outputter)</span>
<span class="lineNum">     102 </span>            : {
<span class="lineNum">     103 </span><span class="lineNoCov">          0 :   sabassert(!&quot;abstract DOMProvider::endCopy()&quot;);</span>
<span class="lineNum">     104 </span>            :   return OK;
<a name="105"><span class="lineNum">     105 </span>            : }</a>
<span class="lineNum">     106 </span>            : 
<span class="lineNum">     107 </span><span class="lineNoCov">          0 : eFlag DOMProvider::copyNode(Sit S, NodeHandle n, OutputterObj &amp;outputter)</span>
<span class="lineNum">     108 </span>            : {
<span class="lineNum">     109 </span><span class="lineNoCov">          0 :   sabassert(!&quot;abstract DOMProvider::copyNode()&quot;);</span>
<span class="lineNum">     110 </span>            :   return OK;
<a name="111"><span class="lineNum">     111 </span>            : }</a>
<span class="lineNum">     112 </span>            : 
<span class="lineNum">     113 </span><span class="lineCov">      51513 : eFlag DOMProvider::getMatchingList(Sit S, NodeHandle n, </span>
<span class="lineNum">     114 </span>            :                                   Expression &amp;match, Context &amp;result)
<span class="lineNum">     115 </span>            : {
<span class="lineNum">     116 </span>            :   //try itself
<span class="lineNum">     117 </span><span class="lineCov">      51513 :   Context aux(NULL);</span>
<span class="lineNum">     118 </span><span class="lineCov">      51513 :   aux.set(n);</span>
<span class="lineNum">     119 </span>            :   Bool yes;
<span class="lineNum">     120 </span><span class="lineCov">      51513 :   E( match.matchesPattern(S, &amp;aux, yes) );</span>
<span class="lineNum">     121 </span><span class="lineCov">      51513 :   if (yes) result.append(n);</span>
<span class="lineNum">     122 </span>            :   //iterate the tree
<span class="lineNum">     123 </span>            :   SXP_NodeType type;
<span class="lineNum">     124 </span><span class="lineCov">      51513 :   switch ( type = getNodeType(n) ) {</span>
<span class="lineNum">     125 </span>            :   case DOCUMENT_NODE:
<span class="lineNum">     126 </span>            :   case ELEMENT_NODE:
<span class="lineNum">     127 </span>            :     {
<span class="lineNum">     128 </span>            :       int num, i;
<span class="lineNum">     129 </span><span class="lineCov">       7887 :       if (type == ELEMENT_NODE) //!!! CHECK</span>
<span class="lineNum">     130 </span>            :         {
<span class="lineNum">     131 </span>            :           //namespaces
<span class="lineNum">     132 </span><span class="lineCov">       7500 :           num = getNamespaceCount(n);</span>
<span class="lineNum">     133 </span><span class="lineCov">      32680 :           for (i = 0; i &lt; num; i++)</span>
<span class="lineNum">     134 </span><span class="lineCov">      32680 :             getMatchingList(S, getNamespaceNo(n, i), match, result);</span>
<span class="lineNum">     135 </span>            :           //attributes
<span class="lineNum">     136 </span><span class="lineCov">       7500 :           num = getAttributeCount(n);</span>
<span class="lineNum">     137 </span><span class="lineCov">       3484 :           for (i = 0; i &lt; num; i++)</span>
<span class="lineNum">     138 </span><span class="lineCov">       3484 :             getMatchingList(S, getAttributeNo(n, i), match, result);</span>
<span class="lineNum">     139 </span>            :         }
<span class="lineNum">     140 </span><span class="lineCov">       7887 :       num = getChildCount(n);</span>
<span class="lineNum">     141 </span><span class="lineCov">      14962 :       for (i = 0; i &lt; num; i++)</span>
<span class="lineNum">     142 </span><span class="lineCov">      14962 :         getMatchingList(S, getChildNo(n, i), match, result);</span>
<span class="lineNum">     143 </span>            :     }; break;
<span class="lineNum">     144 </span>            :   }
<span class="lineNum">     145 </span><span class="lineCov">      51513 :   return OK;  </span>
<span class="lineNum">     146 </span>            : }
<span class="lineNum">     147 </span>            : 
<span class="lineNum">     148 </span>            : /************************************************************
<a name="149"><span class="lineNum">     149 </span>            : dom provider external</a>
<span class="lineNum">     150 </span>            : ************************************************************/
<span class="lineNum">     151 </span><span class="lineNoCov">          0 : void DOMProviderExternal::getNodeEName(NodeHandle n, EQName &amp;ename)</span>
<span class="lineNum">     152 </span>            : {
<span class="lineNum">     153 </span>            :   const char *name, *uri;
<span class="lineNum">     154 </span><span class="lineNoCov">          0 :   name = getNodeName(n);</span>
<span class="lineNum">     155 </span><span class="lineNoCov">          0 :   char *aux = (char *)strchr(name, ':');</span>
<span class="lineNum">     156 </span><span class="lineNoCov">          0 :   if (aux)</span>
<span class="lineNum">     157 </span>            :     {
<span class="lineNum">     158 </span><span class="lineNoCov">          0 :       *aux = '\0';</span>
<span class="lineNum">     159 </span><span class="lineNoCov">          0 :       ename.setPrefix(name);</span>
<span class="lineNum">     160 </span><span class="lineNoCov">          0 :       ename.setLocal(aux + 1);</span>
<span class="lineNum">     161 </span><span class="lineNoCov">          0 :       *aux = ':';</span>
<span class="lineNum">     162 </span>            :     }
<span class="lineNum">     163 </span>            :   else
<span class="lineNum">     164 </span>            :     {
<span class="lineNum">     165 </span><span class="lineNoCov">          0 :       ename.setLocal(name);</span>
<span class="lineNum">     166 </span>            :     }
<span class="lineNum">     167 </span><span class="lineNoCov">          0 :   ename.setUri(uri = getNodeNameURI(n));</span>
<span class="lineNum">     168 </span><span class="lineNoCov">          0 :   freeName(n, (char*)name);</span>
<span class="lineNum">     169 </span><span class="lineNoCov">          0 :   freeName(n, (char*)uri);</span>
<a name="170"><span class="lineNum">     170 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">     171 </span>            : 
<span class="lineNum">     172 </span><span class="lineNoCov">          0 : eFlag DOMProviderExternal::startCopy(Sit S, NodeHandle n, </span>
<span class="lineNum">     173 </span>            :                                      OutputterObj &amp;outputter)
<span class="lineNum">     174 </span>            : {
<span class="lineNum">     175 </span><span class="lineNoCov">          0 :   switch ( getNodeType(n) ) {</span>
<span class="lineNum">     176 </span>            :   case ELEMENT_NODE:
<span class="lineNum">     177 </span>            :     {
<span class="lineNum">     178 </span><span class="lineNoCov">          0 :       EQName ename;</span>
<span class="lineNum">     179 </span><span class="lineNoCov">          0 :       getNodeEName(n, ename);</span>
<span class="lineNum">     180 </span><span class="lineNoCov">          0 :       E( outputter.eventElementStart(S, ename) );</span>
<span class="lineNum">     181 </span>            :       //copy namespaces
<span class="lineNum">     182 </span><span class="lineNoCov">          0 :       int num = getNamespaceCount(n);</span>
<span class="lineNum">     183 </span><span class="lineNoCov">          0 :       for (int i = 0; i &lt; num; i++)</span>
<span class="lineNum">     184 </span><span class="lineNoCov">          0 :         startCopy(S, getNamespaceNo(n, i), outputter);</span>
<span class="lineNum">     185 </span><span class="lineNoCov">          0 :     }; break;</span>
<span class="lineNum">     186 </span>            :   case ATTRIBUTE_NODE:
<span class="lineNum">     187 </span>            :     {
<span class="lineNum">     188 </span><span class="lineNoCov">          0 :       EQName ename;</span>
<span class="lineNum">     189 </span><span class="lineNoCov">          0 :       getNodeEName(n, ename);</span>
<span class="lineNum">     190 </span><span class="lineNoCov">          0 :       const char *val = getNodeValue(n);</span>
<span class="lineNum">     191 </span><span class="lineNoCov">          0 :       E( outputter.eventAttributeStart(S, ename) );</span>
<span class="lineNum">     192 </span><span class="lineNoCov">          0 :       E( outputter.eventData(S, val) );</span>
<span class="lineNum">     193 </span><span class="lineNoCov">          0 :       E( outputter.eventAttributeEnd(S) );</span>
<span class="lineNum">     194 </span><span class="lineNoCov">          0 :       freeValue(n, (char*)val);</span>
<span class="lineNum">     195 </span><span class="lineNoCov">          0 :     }; break;</span>
<span class="lineNum">     196 </span>            :   case TEXT_NODE:
<span class="lineNum">     197 </span>            :     {
<span class="lineNum">     198 </span><span class="lineNoCov">          0 :       const char *val = getNodeValue(n);</span>
<span class="lineNum">     199 </span><span class="lineNoCov">          0 :       E( outputter.eventData(S, val) );</span>
<span class="lineNum">     200 </span><span class="lineNoCov">          0 :       freeValue(n, (char*)val);</span>
<span class="lineNum">     201 </span><span class="lineNoCov">          0 :     }; break;</span>
<span class="lineNum">     202 </span>            :   case PROCESSING_INSTRUCTION_NODE:
<span class="lineNum">     203 </span>            :     {
<span class="lineNum">     204 </span><span class="lineNoCov">          0 :       const char *name = getNodeNameLocal(n);</span>
<span class="lineNum">     205 </span><span class="lineNoCov">          0 :       const char *val = getNodeValue(n);</span>
<span class="lineNum">     206 </span><span class="lineNoCov">          0 :       E( outputter.eventPIStart(S, name) );</span>
<span class="lineNum">     207 </span><span class="lineNoCov">          0 :       E( outputter.eventData(S, val) );</span>
<span class="lineNum">     208 </span><span class="lineNoCov">          0 :       E( outputter.eventPIEnd(S) );</span>
<span class="lineNum">     209 </span><span class="lineNoCov">          0 :       freeName(n, (char*)name);</span>
<span class="lineNum">     210 </span><span class="lineNoCov">          0 :       freeValue(n, (char*)val);</span>
<span class="lineNum">     211 </span><span class="lineNoCov">          0 :     }; break;</span>
<span class="lineNum">     212 </span>            :   case COMMENT_NODE:
<span class="lineNum">     213 </span>            :     {
<span class="lineNum">     214 </span><span class="lineNoCov">          0 :       const char *val = getNodeValue(n);</span>
<span class="lineNum">     215 </span><span class="lineNoCov">          0 :       E( outputter.eventCommentStart(S) );</span>
<span class="lineNum">     216 </span><span class="lineNoCov">          0 :       E( outputter.eventData(S, val) );</span>
<span class="lineNum">     217 </span><span class="lineNoCov">          0 :       E( outputter.eventCommentEnd(S) );</span>
<span class="lineNum">     218 </span><span class="lineNoCov">          0 :       freeValue(n, (char*)val);</span>
<span class="lineNum">     219 </span><span class="lineNoCov">          0 :     }; break;</span>
<span class="lineNum">     220 </span>            :   case DOCUMENT_NODE:
<span class="lineNum">     221 </span>            :     {}; break;
<span class="lineNum">     222 </span>            :   case NAMESPACE_NODE:
<span class="lineNum">     223 </span>            :     {
<span class="lineNum">     224 </span><span class="lineNoCov">          0 :       const char *name = getNodeName(n);</span>
<span class="lineNum">     225 </span><span class="lineNoCov">          0 :       const char *val = getNodeValue(n);</span>
<span class="lineNum">     226 </span><span class="lineNoCov">          0 :       outputter.eventNamespace(S, name, val);</span>
<span class="lineNum">     227 </span><span class="lineNoCov">          0 :       freeName(n, (char*)name);</span>
<span class="lineNum">     228 </span><span class="lineNoCov">          0 :       freeValue(n, (char*)val);</span>
<span class="lineNum">     229 </span><span class="lineNoCov">          0 :     }; break;</span>
<span class="lineNum">     230 </span>            :   }
<span class="lineNum">     231 </span>            :   return OK;
<a name="232"><span class="lineNum">     232 </span>            : }</a>
<span class="lineNum">     233 </span>            : 
<span class="lineNum">     234 </span><span class="lineNoCov">          0 : eFlag DOMProviderExternal::endCopy(Sit S, NodeHandle n, </span>
<span class="lineNum">     235 </span>            :                                    OutputterObj &amp;outputter)
<span class="lineNum">     236 </span>            : {
<span class="lineNum">     237 </span><span class="lineNoCov">          0 :   switch ( getNodeType(n) ) {</span>
<span class="lineNum">     238 </span>            :   case ELEMENT_NODE:
<span class="lineNum">     239 </span>            :     {
<span class="lineNum">     240 </span><span class="lineNoCov">          0 :       EQName ename;</span>
<span class="lineNum">     241 </span><span class="lineNoCov">          0 :       getNodeEName(n, ename);</span>
<span class="lineNum">     242 </span><span class="lineNoCov">          0 :       E( outputter.eventElementEnd(S, ename ));</span>
<span class="lineNum">     243 </span><span class="lineNoCov">          0 :     }; break;</span>
<span class="lineNum">     244 </span>            :   case ATTRIBUTE_NODE:
<span class="lineNum">     245 </span>            :   case TEXT_NODE:
<span class="lineNum">     246 </span>            :   case PROCESSING_INSTRUCTION_NODE:
<span class="lineNum">     247 </span>            :   case COMMENT_NODE:
<span class="lineNum">     248 </span>            :   case DOCUMENT_NODE:
<span class="lineNum">     249 </span>            :   case NAMESPACE_NODE:
<span class="lineNum">     250 </span>            :     break;
<span class="lineNum">     251 </span>            :   }
<span class="lineNum">     252 </span>            :   return OK;
<a name="253"><span class="lineNum">     253 </span>            : }</a>
<span class="lineNum">     254 </span>            : 
<span class="lineNum">     255 </span><span class="lineNoCov">          0 : eFlag DOMProviderExternal::copyNode(Sit S, NodeHandle n, </span>
<span class="lineNum">     256 </span>            :                                     OutputterObj &amp;outputter)
<span class="lineNum">     257 </span>            : {
<span class="lineNum">     258 </span>            :   SXP_NodeType type;
<span class="lineNum">     259 </span><span class="lineNoCov">          0 :   switch ( type = getNodeType(n) ) {</span>
<span class="lineNum">     260 </span>            :   case DOCUMENT_NODE:
<span class="lineNum">     261 </span>            :   case ELEMENT_NODE:
<span class="lineNum">     262 </span>            :     {
<span class="lineNum">     263 </span>            :       int num, i;
<span class="lineNum">     264 </span><span class="lineNoCov">          0 :       E( startCopy(S, n, outputter) );</span>
<span class="lineNum">     265 </span>            :       //attributes
<span class="lineNum">     266 </span><span class="lineNoCov">          0 :       if (type == ELEMENT_NODE)</span>
<span class="lineNum">     267 </span>            :         {
<span class="lineNum">     268 </span><span class="lineNoCov">          0 :           num = getAttributeCount(n);</span>
<span class="lineNum">     269 </span><span class="lineNoCov">          0 :           for (i = 0; i &lt; num; i++)</span>
<span class="lineNum">     270 </span><span class="lineNoCov">          0 :             E( copyNode(S, getAttributeNo(n, i), outputter) );</span>
<span class="lineNum">     271 </span>            :         }
<span class="lineNum">     272 </span>            :       //contents
<span class="lineNum">     273 </span><span class="lineNoCov">          0 :       num = getChildCount(n);</span>
<span class="lineNum">     274 </span><span class="lineNoCov">          0 :       for (i = 0; i &lt; num; i++)</span>
<span class="lineNum">     275 </span><span class="lineNoCov">          0 :         E( copyNode(S, getChildNo(n, i), outputter) );</span>
<span class="lineNum">     276 </span>            :       //end
<span class="lineNum">     277 </span><span class="lineNoCov">          0 :       E( endCopy(S, n, outputter) );</span>
<span class="lineNum">     278 </span>            :     }; break;
<span class="lineNum">     279 </span>            :   case ATTRIBUTE_NODE:
<span class="lineNum">     280 </span>            :   case TEXT_NODE:
<span class="lineNum">     281 </span>            :   case PROCESSING_INSTRUCTION_NODE:
<span class="lineNum">     282 </span>            :   case COMMENT_NODE:
<span class="lineNum">     283 </span>            :   case NAMESPACE_NODE:
<span class="lineNum">     284 </span>            :     {
<span class="lineNum">     285 </span><span class="lineNoCov">          0 :       startCopy(S, n, outputter);</span>
<span class="lineNum">     286 </span><span class="lineNoCov">          0 :       endCopy(S, n, outputter);</span>
<span class="lineNum">     287 </span><span class="lineNoCov">          0 :     }; break;</span>
<span class="lineNum">     288 </span>            :   }
<span class="lineNum">     289 </span>            :   return OK;
<span class="lineNum">     290 </span>            : }
<span class="lineNum">     291 </span>            : 
<span class="lineNum">     292 </span>            : /************************************************************
<span class="lineNum">     293 </span>            : dom provider standard
<a name="294"><span class="lineNum">     294 </span>            : ************************************************************/</a>
<span class="lineNum">     295 </span>            : 
<span class="lineNum">     296 </span><span class="lineCov">    1112388 : SXP_NodeType DOMProviderStandard::getNodeType(SXP_Node n)</span>
<span class="lineNum">     297 </span>            : {
<span class="lineNum">     298 </span><span class="lineCov">    1112388 :     switch(baseType(n))</span>
<span class="lineNum">     299 </span>            :     {
<span class="lineNum">     300 </span>            :     case VT_ELEMENT: return ELEMENT_NODE;
<span class="lineNum">     301 </span><span class="lineCov">      12064 :     case VT_ATTRIBUTE: return ATTRIBUTE_NODE;</span>
<span class="lineNum">     302 </span><span class="lineCov">      67038 :     case VT_NAMESPACE: return NAMESPACE_NODE;</span>
<span class="lineNum">     303 </span><span class="lineCov">     503157 :     case VT_TEXT: return TEXT_NODE;</span>
<span class="lineNum">     304 </span><span class="lineCov">       5405 :     case VT_COMMENT: return COMMENT_NODE;</span>
<span class="lineNum">     305 </span><span class="lineNoCov">          0 :     case VT_PI: return PROCESSING_INSTRUCTION_NODE;</span>
<span class="lineNum">     306 </span><span class="lineCov">      84978 :     case VT_ROOT: return DOCUMENT_NODE;</span>
<span class="lineNum">     307 </span>            :     default: 
<span class="lineNum">     308 </span>            :       {
<span class="lineNum">     309 </span><span class="lineNoCov">          0 :         sabassert(0); </span>
<span class="lineNum">     310 </span>            :         return (SXP_NodeType)0;
<span class="lineNum">     311 </span>            :       }
<span class="lineNum">     312 </span>            :     }
<span class="lineNum">     313 </span>            : }
<span class="lineNum">     314 </span>            : 
<span class="lineNum">     315 </span>            : /*
<span class="lineNum">     316 </span>            :                 case EXFF_NAME:
<span class="lineNum">     317 </span>            :                     toV(v) -&gt; getOwner().expandQStr(q, strg); break;
<span class="lineNum">     318 </span>            :                 case EXFF_LOCAL_NAME:
<span class="lineNum">     319 </span>            :                     strg = toV(v) -&gt; getOwner().expand(q.getLocal()); break;
<span class="lineNum">     320 </span>            :                 case EXFF_NAMESPACE_URI:
<span class="lineNum">     321 </span>            :                     strg = toV(v) -&gt; getOwner().expand(q.getUri()); break;
<a name="322"><span class="lineNum">     322 </span>            : */</a>
<span class="lineNum">     323 </span>            : 
<span class="lineNum">     324 </span><span class="lineNoCov">          0 : const SXP_char* DOMProviderStandard::getNodeName(SXP_Node n)</span>
<span class="lineNum">     325 </span>            : {
<span class="lineNum">     326 </span><span class="lineNoCov">          0 :   Str aux;</span>
<span class="lineNum">     327 </span><span class="lineNoCov">          0 :   const QName&amp; q = toV(n) -&gt; getName();</span>
<span class="lineNum">     328 </span><span class="lineNoCov">          0 :   toV(n) -&gt; getOwner().expandQStr(q, aux);</span>
<span class="lineNum">     329 </span><span class="lineNoCov">          0 :   return aux.cloneData();</span>
<a name="330"><span class="lineNum">     330 </span>            : }</a>
<span class="lineNum">     331 </span>            : 
<span class="lineNum">     332 </span><span class="lineCov">         52 : const SXP_char* DOMProviderStandard::getNodeNameURI(SXP_Node n)</span>
<span class="lineNum">     333 </span>            : {
<span class="lineNum">     334 </span><span class="lineCov">         52 :   const QName&amp; q = toV(n) -&gt; getName();</span>
<span class="lineNum">     335 </span><span class="lineCov">         52 :   Str aux = toV(n) -&gt; getOwner().expand(q.getUri());</span>
<span class="lineNum">     336 </span><span class="lineCov">         52 :   return aux.cloneData();</span>
<a name="337"><span class="lineNum">     337 </span>            : }</a>
<span class="lineNum">     338 </span>            : 
<span class="lineNum">     339 </span><span class="lineCov">         82 : const SXP_char* DOMProviderStandard::getNodeNameLocal(SXP_Node n)</span>
<span class="lineNum">     340 </span>            : {
<span class="lineNum">     341 </span><span class="lineCov">         82 :   const QName&amp; q = toV(n) -&gt; getName();</span>
<span class="lineNum">     342 </span><span class="lineCov">         82 :   Str aux = toV(n) -&gt; getOwner().expand(q.getLocal());</span>
<span class="lineNum">     343 </span><span class="lineCov">         82 :   return aux.cloneData();</span>
<a name="344"><span class="lineNum">     344 </span>            : }</a>
<span class="lineNum">     345 </span>            : 
<span class="lineNum">     346 </span><span class="lineCov">      59111 : const SXP_char* DOMProviderStandard::getNodeValue(SXP_Node n)</span>
<span class="lineNum">     347 </span>            : {
<span class="lineNum">     348 </span><span class="lineCov">      59111 :     switch(baseType(n))</span>
<span class="lineNum">     349 </span>            :     {
<span class="lineNum">     350 </span>            :         case VT_ATTRIBUTE:
<span class="lineNum">     351 </span><span class="lineCov">        377 :                 return toA(n) -&gt; cont;</span>
<span class="lineNum">     352 </span>            :                 case VT_NAMESPACE:
<span class="lineNum">     353 </span>            :                 {
<span class="lineNum">     354 </span><span class="lineCov">        311 :                 return toNS(n) -&gt; getOwner().dict().getKey(toNS(n) -&gt; uri);</span>
<span class="lineNum">     355 </span>            :                 };
<span class="lineNum">     356 </span>            :                 case VT_PI:
<span class="lineNum">     357 </span><span class="lineNoCov">          0 :                 return toPI(n) -&gt; cont;</span>
<span class="lineNum">     358 </span>            :                 case VT_COMMENT:
<span class="lineNum">     359 </span><span class="lineNoCov">          0 :                     return toComment(n) -&gt; cont;</span>
<span class="lineNum">     360 </span>            :                 case VT_TEXT:
<span class="lineNum">     361 </span><span class="lineCov">      58423 :                     return toText(n) -&gt; cont;</span>
<span class="lineNum">     362 </span>            :                 default:
<span class="lineNum">     363 </span>            :                     return NULL;
<span class="lineNum">     364 </span>            :     }
<a name="365"><span class="lineNum">     365 </span>            : }</a>
<span class="lineNum">     366 </span>            : 
<span class="lineNum">     367 </span><span class="lineCov">     226562 : SXP_Node DOMProviderStandard::getNextSibling(SXP_Node n)</span>
<span class="lineNum">     368 </span>            : {
<span class="lineNum">     369 </span><span class="lineCov">     226562 :     SXP_Node par = getParent(n);</span>
<span class="lineNum">     370 </span><span class="lineCov">     226562 :     int ndx = toV(n) -&gt; ordinal,</span>
<span class="lineNum">     371 </span><span class="lineCov">     226562 :         count = -1;</span>
<span class="lineNum">     372 </span><span class="lineCov">     226562 :     if (!par) return NULL;</span>
<span class="lineNum">     373 </span><span class="lineCov">     226537 :     if (baseType(n) == VT_ATTRIBUTE || baseType(n) == VT_NAMESPACE)</span>
<span class="lineNum">     374 </span>            :       return NULL;
<span class="lineNum">     375 </span><span class="lineCov">     226537 :     count = toD(par) -&gt; contents.number();</span>
<span class="lineNum">     376 </span><span class="lineCov">     226537 :     if (ndx &gt;= count - 1)</span>
<span class="lineNum">     377 </span>            :         return NULL;
<span class="lineNum">     378 </span><span class="lineCov">     105959 :     return toD(par) -&gt; contents[ndx + 1];</span>
<a name="379"><span class="lineNum">     379 </span>            : }</a>
<span class="lineNum">     380 </span>            : 
<span class="lineNum">     381 </span><span class="lineCov">       1070 : SXP_Node DOMProviderStandard::getPreviousSibling(SXP_Node n)</span>
<span class="lineNum">     382 </span>            : {
<span class="lineNum">     383 </span><span class="lineCov">       1070 :     SXP_Node par = getParent(n);</span>
<span class="lineNum">     384 </span><span class="lineCov">       1070 :     int ndx = toV(n) -&gt; ordinal;</span>
<span class="lineNum">     385 </span><span class="lineCov">       1070 :     if (!par || !ndx) return NULL;</span>
<span class="lineNum">     386 </span><span class="lineCov">        714 :     if (baseType(n) == VT_ATTRIBUTE || baseType(n) == VT_NAMESPACE)</span>
<span class="lineNum">     387 </span>            :         return NULL;
<span class="lineNum">     388 </span><span class="lineCov">        714 :     return toD(par) -&gt; contents[ndx - 1];</span>
<a name="389"><span class="lineNum">     389 </span>            : }</a>
<span class="lineNum">     390 </span>            : 
<span class="lineNum">     391 </span><span class="lineCov">       5265 : SXP_Node DOMProviderStandard::getNextAttrNS(SXP_Node n)</span>
<span class="lineNum">     392 </span>            : {
<span class="lineNum">     393 </span><span class="lineCov">       5265 :     SXP_Node par = getParent(n);</span>
<span class="lineNum">     394 </span><span class="lineCov">       5265 :     int ndx = toV(n) -&gt; ordinal,</span>
<span class="lineNum">     395 </span><span class="lineCov">       5265 :         count = -1;</span>
<span class="lineNum">     396 </span><span class="lineCov">       5265 :     if (!par) return NULL;</span>
<span class="lineNum">     397 </span><span class="lineCov">       5265 :     switch(baseType(n))</span>
<span class="lineNum">     398 </span>            :     {
<span class="lineNum">     399 </span>            :         case VT_ATTRIBUTE:
<span class="lineNum">     400 </span><span class="lineCov">       5911 :                 count = toE(par) -&gt; atts.number(); break;</span>
<span class="lineNum">     401 </span>            :         case VT_NAMESPACE:
<span class="lineNum">     402 </span><span class="lineCov">        819 :                 count = toE(par) -&gt; namespaces.number(); break;</span>
<span class="lineNum">     403 </span>            :                 default:
<span class="lineNum">     404 </span>            :                     return NULL;
<span class="lineNum">     405 </span>            :     }
<span class="lineNum">     406 </span><span class="lineCov">       5265 :     if (ndx &gt;= count - 1)</span>
<span class="lineNum">     407 </span>            :         return NULL;
<span class="lineNum">     408 </span><span class="lineCov">       1465 :     switch(baseType(n))</span>
<span class="lineNum">     409 </span>            :     {
<span class="lineNum">     410 </span>            :         case VT_ATTRIBUTE:
<span class="lineNum">     411 </span><span class="lineCov">       2384 :                 return toE(par) -&gt; atts[ndx + 1]; break;</span>
<span class="lineNum">     412 </span>            :         case VT_NAMESPACE:
<span class="lineNum">     413 </span><span class="lineCov">        546 :           return toE(par) -&gt; namespaces[ndx + 1]; break;</span>
<span class="lineNum">     414 </span>            :     default:
<span class="lineNum">     415 </span>            :       // do this to keep compiler happy
<span class="lineNum">     416 </span>            :       return NULL;
<span class="lineNum">     417 </span>            :     }   
<a name="418"><span class="lineNum">     418 </span>            : }</a>
<span class="lineNum">     419 </span>            : 
<span class="lineNum">     420 </span><span class="lineNoCov">          0 : SXP_Node DOMProviderStandard::getPreviousAttrNS(SXP_Node n)</span>
<span class="lineNum">     421 </span>            : {
<span class="lineNum">     422 </span><span class="lineNoCov">          0 :     SXP_Node par = getParent(n);</span>
<span class="lineNum">     423 </span><span class="lineNoCov">          0 :     int ndx = toV(n) -&gt; ordinal;</span>
<span class="lineNum">     424 </span><span class="lineNoCov">          0 :     if (!par || !ndx) return NULL;</span>
<span class="lineNum">     425 </span><span class="lineNoCov">          0 :     switch(baseType(n))</span>
<span class="lineNum">     426 </span>            :     {
<span class="lineNum">     427 </span>            :         case VT_ATTRIBUTE:
<span class="lineNum">     428 </span><span class="lineNoCov">          0 :                 return toE(par) -&gt; atts[ndx - 1]; break;</span>
<span class="lineNum">     429 </span>            :         case VT_NAMESPACE:
<span class="lineNum">     430 </span><span class="lineNoCov">          0 :                 return toE(par) -&gt; namespaces[ndx - 1]; break;</span>
<span class="lineNum">     431 </span>            :                 default:
<span class="lineNum">     432 </span>            :                     return NULL;
<span class="lineNum">     433 </span>            :     }   
<a name="434"><span class="lineNum">     434 </span>            : }</a>
<span class="lineNum">     435 </span>            : 
<span class="lineNum">     436 </span><span class="lineCov">      51000 : int DOMProviderStandard::getChildCount(SXP_Node n)</span>
<span class="lineNum">     437 </span>            : {
<span class="lineNum">     438 </span><span class="lineCov">      51000 :     if (baseType(n) != VT_ELEMENT &amp;&amp; baseType(n) != VT_ROOT)</span>
<span class="lineNum">     439 </span>            :         return 0;
<span class="lineNum">     440 </span>            :         else
<span class="lineNum">     441 </span><span class="lineCov">      50675 :             return toE(n) -&gt; contents.number();</span>
<a name="442"><span class="lineNum">     442 </span>            : }</a>
<span class="lineNum">     443 </span>            : 
<span class="lineNum">     444 </span><span class="lineCov">       7500 : int DOMProviderStandard::getAttributeCount(SXP_Node n)</span>
<span class="lineNum">     445 </span>            : {
<span class="lineNum">     446 </span><span class="lineCov">       7500 :     if (baseType(n) != VT_ELEMENT)</span>
<span class="lineNum">     447 </span>            :         return 0;
<span class="lineNum">     448 </span>            :         else
<span class="lineNum">     449 </span><span class="lineCov">       7500 :             return toE(n) -&gt; atts.number();</span>
<a name="450"><span class="lineNum">     450 </span>            : }</a>
<span class="lineNum">     451 </span>            : 
<span class="lineNum">     452 </span><span class="lineCov">       7500 : int DOMProviderStandard::getNamespaceCount(SXP_Node n)</span>
<span class="lineNum">     453 </span>            : {
<span class="lineNum">     454 </span><span class="lineCov">       7500 :     if (baseType(n) != VT_ELEMENT)</span>
<span class="lineNum">     455 </span>            :         return 0;
<span class="lineNum">     456 </span>            :         else
<span class="lineNum">     457 </span><span class="lineCov">       7500 :             return toE(n) -&gt; namespaces.number();</span>
<a name="458"><span class="lineNum">     458 </span>            : }</a>
<span class="lineNum">     459 </span>            : 
<span class="lineNum">     460 </span><span class="lineCov">     149244 : SXP_Node DOMProviderStandard::getChildNo(SXP_Node n, int ndx)</span>
<span class="lineNum">     461 </span>            : {
<span class="lineNum">     462 </span><span class="lineCov">     149244 :     if (baseType(n) != VT_ELEMENT &amp;&amp; baseType(n) != VT_ROOT)</span>
<span class="lineNum">     463 </span>            :         return NULL;
<span class="lineNum">     464 </span>            :         else
<span class="lineNum">     465 </span>            :         {
<span class="lineNum">     466 </span><span class="lineCov">     284608 :             if (ndx &lt; 0 || ndx &gt;= toD(n) -&gt; contents.number())</span>
<span class="lineNum">     467 </span>            :                 return NULL;
<span class="lineNum">     468 </span>            :                 else
<span class="lineNum">     469 </span><span class="lineCov">     270728 :                 return toD(n) -&gt; contents[ndx];</span>
<span class="lineNum">     470 </span>            :         }
<a name="471"><span class="lineNum">     471 </span>            : }</a>
<span class="lineNum">     472 </span>            : 
<span class="lineNum">     473 </span><span class="lineCov">      12332 : SXP_Node DOMProviderStandard::getAttributeNo(SXP_Node n, int ndx)</span>
<span class="lineNum">     474 </span>            : {
<span class="lineNum">     475 </span><span class="lineCov">      12332 :     if (baseType(n) != VT_ELEMENT)</span>
<span class="lineNum">     476 </span>            :         return NULL;
<span class="lineNum">     477 </span>            :         else
<span class="lineNum">     478 </span>            :         {
<span class="lineNum">     479 </span><span class="lineCov">      19343 :             if (ndx &lt; 0 || ndx &gt;= toE(n) -&gt; atts.number())</span>
<span class="lineNum">     480 </span>            :                 return NULL;
<span class="lineNum">     481 </span>            :                 else
<span class="lineNum">     482 </span><span class="lineCov">      14022 :                 return toE(n) -&gt; atts[ndx];</span>
<span class="lineNum">     483 </span>            :         }
<a name="484"><span class="lineNum">     484 </span>            : }</a>
<span class="lineNum">     485 </span>            : 
<span class="lineNum">     486 </span><span class="lineCov">      32953 : SXP_Node DOMProviderStandard::getNamespaceNo(SXP_Node n, int ndx)</span>
<span class="lineNum">     487 </span>            : {
<span class="lineNum">     488 </span><span class="lineCov">      32953 :     if (baseType(n) != VT_ELEMENT)</span>
<span class="lineNum">     489 </span>            :         return NULL;
<span class="lineNum">     490 </span>            :         else
<span class="lineNum">     491 </span>            :         {
<span class="lineNum">     492 </span><span class="lineCov">      65906 :             if (ndx &lt; 0 || ndx &gt;= toE(n) -&gt; namespaces.number())</span>
<span class="lineNum">     493 </span>            :                 return NULL;
<span class="lineNum">     494 </span>            :                 else
<span class="lineNum">     495 </span><span class="lineCov">      65906 :                 return toE(n) -&gt; namespaces[ndx];</span>
<span class="lineNum">     496 </span>            :     }
<a name="497"><span class="lineNum">     497 </span>            : }</a>
<span class="lineNum">     498 </span>            : 
<span class="lineNum">     499 </span><span class="lineCov">     284395 : SXP_Node DOMProviderStandard::getParent(SXP_Node n)</span>
<span class="lineNum">     500 </span>            : {
<span class="lineNum">     501 </span><span class="lineCov">     284395 :     return toV(n) -&gt; parent;</span>
<a name="502"><span class="lineNum">     502 </span>            : }</a>
<span class="lineNum">     503 </span>            : 
<span class="lineNum">     504 </span><span class="lineCov">       4900 : SXP_Document DOMProviderStandard::getOwnerDocument(SXP_Node n)</span>
<span class="lineNum">     505 </span>            : {
<span class="lineNum">     506 </span><span class="lineCov">       9800 :     return &amp;(toV(n) -&gt; getOwner().getRoot());</span>
<a name="507"><span class="lineNum">     507 </span>            : }</a>
<span class="lineNum">     508 </span>            : 
<span class="lineNum">     509 </span><span class="lineCov">      64749 : int DOMProviderStandard::compareNodes(SXP_Node n1, SXP_Node n2)</span>
<span class="lineNum">     510 </span>            : {
<span class="lineNum">     511 </span><span class="lineCov">      64749 :   if (&amp;(toV(n1) -&gt; getOwner()) == &amp;(toV(n2) -&gt; getOwner()) ) //the same owner</span>
<span class="lineNum">     512 </span>            :     {
<span class="lineNum">     513 </span><span class="lineCov">      64749 :       int s1 = toV(n1) -&gt; stamp;</span>
<span class="lineNum">     514 </span><span class="lineCov">      64749 :       int s2 = toV(n2) -&gt; stamp;</span>
<span class="lineNum">     515 </span><span class="lineCov">      64749 :       if (s1 &lt; s2)</span>
<span class="lineNum">     516 </span>            :         return -1;
<span class="lineNum">     517 </span><span class="lineCov">      15943 :       if (s1 == s2)</span>
<span class="lineNum">     518 </span>            :         return 0;
<span class="lineNum">     519 </span><span class="lineCov">      13778 :       return 1;</span>
<span class="lineNum">     520 </span>            :     }
<span class="lineNum">     521 </span>            :   else
<span class="lineNum">     522 </span>            :     {
<span class="lineNum">     523 </span><span class="lineNoCov">          0 :       return strcmp( (char*)(toV(n1) -&gt; getOwner().getURI()),</span>
<span class="lineNum">     524 </span><span class="lineNoCov">          0 :                      (char*)(toV(n2) -&gt; getOwner().getURI()) );</span>
<span class="lineNum">     525 </span>            :     }
<a name="526"><span class="lineNum">     526 </span>            : }</a>
<span class="lineNum">     527 </span>            : 
<span class="lineNum">     528 </span><span class="lineNoCov">          0 : SXP_Document DOMProviderStandard::retrieveDocument(const SXP_char* uri, const SXP_char* baseUri)</span>
<span class="lineNum">     529 </span>            : {
<span class="lineNum">     530 </span><span class="lineNoCov">          0 :     sabassert(0);</span>
<span class="lineNum">     531 </span>            :     return NULL;
<a name="532"><span class="lineNum">     532 </span>            : }</a>
<span class="lineNum">     533 </span>            : 
<span class="lineNum">     534 </span><span class="lineCov">         22 : SXP_Node DOMProviderStandard::getNodeWithID(SXP_Document doc, const SXP_char* id)</span>
<span class="lineNum">     535 </span>            : {
<span class="lineNum">     536 </span>            :     // not reading the DTD, we don't know any ID atts
<span class="lineNum">     537 </span><span class="lineCov">         22 :     return NULL;</span>
<span class="lineNum">     538 </span>            : }
<span class="lineNum">     539 </span>            : 
<span class="lineNum">     540 </span>            : /*****************************************/
<span class="lineNum">     541 </span>            : /* universal provider */
<a name="542"><span class="lineNum">     542 </span>            : /*****************************************/</a>
<span class="lineNum">     543 </span>            : 
<span class="lineNum">     544 </span><span class="lineCov">      11862 : DOMProviderUniversal::DOMProviderUniversal()</span>
<span class="lineNum">     545 </span>            : {
<span class="lineNum">     546 </span><span class="lineCov">      11862 :   standard = new DOMProviderStandard();</span>
<span class="lineNum">     547 </span><span class="lineCov">       5931 :   external = NULL;</span>
<span class="lineNum">     548 </span><span class="lineCov">       5931 :   maskBit = 0;</span>
<span class="lineNum">     549 </span><span class="lineCov">       5931 :   options = 0;</span>
<a name="550"><span class="lineNum">     550 </span><span class="lineCov">       5931 : }</span></a>
<span class="lineNum">     551 </span>            : 
<span class="lineNum">     552 </span><span class="lineCov">      11862 : DOMProviderUniversal::~DOMProviderUniversal()</span>
<span class="lineNum">     553 </span>            : {
<span class="lineNum">     554 </span><span class="lineCov">       5931 :   cdelete(standard);</span>
<span class="lineNum">     555 </span><span class="lineCov">       5931 :   if (external) cdelete(external);</span>
<a name="556"><span class="lineNum">     556 </span><span class="lineCov">      11862 : }</span></a>
<span class="lineNum">     557 </span>            : 
<span class="lineNum">     558 </span><span class="lineNoCov">          0 : void DOMProviderUniversal::setExtProvider(DOMHandler *domh, void *data)</span>
<span class="lineNum">     559 </span>            : {
<span class="lineNum">     560 </span><span class="lineNoCov">          0 :   if (external) cdelete(external);</span>
<span class="lineNum">     561 </span><span class="lineNoCov">          0 :   if (domh)</span>
<span class="lineNum">     562 </span>            :     {
<span class="lineNum">     563 </span><span class="lineNoCov">          0 :       external = new DOMProviderExternal(domh, data);</span>
<span class="lineNum">     564 </span><span class="lineNoCov">          0 :       external -&gt; setSXPMask(maskBit);</span>
<span class="lineNum">     565 </span><span class="lineNoCov">          0 :       external -&gt; setOptions(options);</span>
<span class="lineNum">     566 </span>            :     }
<span class="lineNum">     567 </span>            :   else
<span class="lineNum">     568 </span><span class="lineNoCov">          0 :     external = NULL;</span>
<a name="569"><span class="lineNum">     569 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">     570 </span>            : 
<span class="lineNum">     571 </span><span class="lineCov">        134 : void DOMProviderUniversal::freeName(NodeHandle n, char *data)</span>
<span class="lineNum">     572 </span>            : {
<span class="lineNum">     573 </span>            :   //sabassert( (NHC(n) &amp; 1) ); //shouldn't happen for internal nodes
<span class="lineNum">     574 </span><span class="lineCov">        134 :   if ( ( NHC(n) &amp; 1 ) &amp;&amp; (options &amp; SXPF_DISPOSE_NAMES) )</span>
<span class="lineNum">     575 </span>            :     {
<span class="lineNum">     576 </span><span class="lineNoCov">          0 :       NZ(external)-&gt;freeName(n, data);</span>
<span class="lineNum">     577 </span>            :     }
<a name="578"><span class="lineNum">     578 </span><span class="lineCov">        134 : }</span></a>
<span class="lineNum">     579 </span>            : 
<span class="lineNum">     580 </span><span class="lineCov">      59111 : void DOMProviderUniversal::freeValue(NodeHandle n, char *data)</span>
<span class="lineNum">     581 </span>            : {
<span class="lineNum">     582 </span>            :   //sabassert( (NHC(n) &amp; 1) ); //shouldn't happen for internal nodes
<span class="lineNum">     583 </span><span class="lineCov">      59111 :   if ( ( NHC(n) &amp; 1 ) &amp;&amp; (options &amp; SXPF_DISPOSE_VALUES) )</span>
<span class="lineNum">     584 </span>            :     {
<span class="lineNum">     585 </span><span class="lineNoCov">          0 :       NZ(external)-&gt;freeValue(n, data);</span>
<span class="lineNum">     586 </span>            :     }
<a name="587"><span class="lineNum">     587 </span><span class="lineCov">      59111 : }</span></a>
<span class="lineNum">     588 </span>            : 
<span class="lineNum">     589 </span><span class="lineNoCov">          0 : void DOMProviderUniversal::setMaskBit(int mask)</span>
<span class="lineNum">     590 </span>            : {
<span class="lineNum">     591 </span><span class="lineNoCov">          0 :   maskBit = mask;</span>
<span class="lineNum">     592 </span><span class="lineNoCov">          0 :   if (external) external -&gt; setSXPMask(mask);</span>
<a name="593"><span class="lineNum">     593 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">     594 </span>            : 
<span class="lineNum">     595 </span><span class="lineNoCov">          0 : int DOMProviderUniversal::getMaskBit()</span>
<span class="lineNum">     596 </span>            : {
<span class="lineNum">     597 </span><span class="lineNoCov">          0 :   return maskBit;</span>
<a name="598"><span class="lineNum">     598 </span>            : }</a>
<span class="lineNum">     599 </span>            : 
<span class="lineNum">     600 </span><span class="lineCov">      64749 : int DOMProviderUniversal::compareNodes(SXP_Node n1, SXP_Node n2)</span>
<span class="lineNum">     601 </span>            : { 
<span class="lineNum">     602 </span><span class="lineCov">      64749 :   if ((NHC(n1) &amp; 1) ^ (NHC(n2) &amp; 1)) //one external other interal</span>
<span class="lineNum">     603 </span>            :     {
<span class="lineNum">     604 </span><span class="lineNoCov">          0 :       return NHC(n1) &amp; 1 ? -1 : 1;</span>
<span class="lineNum">     605 </span>            :     }
<span class="lineNum">     606 </span>            :     
<span class="lineNum">     607 </span><span class="lineCov">      64749 :   return (NHC(n1) &amp; 1) ? </span>
<span class="lineNum">     608 </span><span class="lineNoCov">          0 :     NZ(external)-&gt;compareNodes(n1, n2) :</span>
<span class="lineNum">     609 </span><span class="lineCov">      64749 :     standard-&gt;compareNodes(n1, n2);</span>
<a name="610"><span class="lineNum">     610 </span>            : }</a>
<span class="lineNum">     611 </span>            : 
<span class="lineNum">     612 </span><span class="lineNoCov">          0 : SXP_Document DOMProviderUniversal::retrieveDocument(const SXP_char* uri, const SXP_char* baseUri)</span>
<span class="lineNum">     613 </span>            : {
<span class="lineNum">     614 </span><span class="lineNoCov">          0 :   if (external)</span>
<span class="lineNum">     615 </span>            :     {
<span class="lineNum">     616 </span><span class="lineNoCov">          0 :       return external -&gt; retrieveDocument(uri, baseUri);</span>
<span class="lineNum">     617 </span>            :     }
<span class="lineNum">     618 </span>            :   else
<span class="lineNum">     619 </span>            :     return NULL;
<a name="620"><span class="lineNum">     620 </span>            : }</a>
<span class="lineNum">     621 </span>            : 
<span class="lineNum">     622 </span><span class="lineCov">       4336 : eFlag DOMProviderUniversal::startCopy(Sit S, NodeHandle n, </span>
<span class="lineNum">     623 </span>            :                                       OutputterObj &amp;outputter)
<span class="lineNum">     624 </span>            : {
<span class="lineNum">     625 </span><span class="lineCov">       4336 :   if ( SXP_EXTERNAL(n) )</span>
<span class="lineNum">     626 </span><span class="lineNoCov">          0 :     return external -&gt; startCopy(S, n, outputter);</span>
<span class="lineNum">     627 </span>            :   else
<span class="lineNum">     628 </span><span class="lineCov">       4336 :     return toPhysical(n) -&gt; startCopy(S, outputter);</span>
<a name="629"><span class="lineNum">     629 </span>            : }</a>
<span class="lineNum">     630 </span>            : 
<span class="lineNum">     631 </span><span class="lineCov">       4331 : eFlag DOMProviderUniversal::endCopy(Sit S, NodeHandle n, </span>
<span class="lineNum">     632 </span>            :                                     OutputterObj &amp;outputter)
<span class="lineNum">     633 </span>            : {
<span class="lineNum">     634 </span><span class="lineCov">       4331 :   if ( SXP_EXTERNAL(n) )</span>
<span class="lineNum">     635 </span><span class="lineNoCov">          0 :     return external -&gt; endCopy(S, n, outputter);</span>
<span class="lineNum">     636 </span>            :   else
<span class="lineNum">     637 </span><span class="lineCov">       4331 :     return toPhysical(n) -&gt; endCopy(S, outputter);</span>
<a name="638"><span class="lineNum">     638 </span>            : }</a>
<span class="lineNum">     639 </span>            : 
<span class="lineNum">     640 </span><span class="lineCov">        242 : eFlag DOMProviderUniversal::copyNode(Sit S, NodeHandle n, </span>
<span class="lineNum">     641 </span>            :                                      OutputterObj &amp;outputter)
<span class="lineNum">     642 </span>            : {
<span class="lineNum">     643 </span><span class="lineCov">        242 :   if ( SXP_EXTERNAL(n) )</span>
<span class="lineNum">     644 </span><span class="lineNoCov">          0 :     return external -&gt; copyNode(S, n, outputter);</span>
<span class="lineNum">     645 </span>            :   else
<span class="lineNum">     646 </span><span class="lineCov">        242 :     return toPhysical(n) -&gt; copy(S, outputter);</span>
<span class="lineNum">     647 </span>            : }
<span class="lineNum">     648 </span>            : 
<span class="lineNum">     649 </span>            : /*
<span class="lineNum">     650 </span>            :  *
<span class="lineNum">     651 </span>            :  *    QueryContextClass
<span class="lineNum">     652 </span>            :  *
<a name="653"><span class="lineNum">     653 </span>            :  */</a>
<span class="lineNum">     654 </span>            :     
<span class="lineNum">     655 </span><span class="lineNoCov">          0 : QueryContextClass::QueryContextClass(Sit S)</span>
<span class="lineNum">     656 </span><span class="lineNoCov">          0 :     : theSituation(&amp;S)</span>
<span class="lineNum">     657 </span>            : {
<span class="lineNum">     658 </span><span class="lineNoCov">          0 :     baseTree = new Tree((char*)&quot;urn:_external_&quot;,FALSE);</span>
<span class="lineNum">     659 </span><span class="lineNoCov">          0 :     queryExpression = NULL;</span>
<span class="lineNum">     660 </span><span class="lineNoCov">          0 :     resultExpression = NULL;</span>
<span class="lineNum">     661 </span><span class="lineNoCov">          0 :     if (NULL == (proc = theSituation -&gt; getProcessor()))</span>
<span class="lineNum">     662 </span>            :     {
<span class="lineNum">     663 </span><span class="lineNoCov">          0 :         SablotCreateProcessorForSituation(theSituation, (SablotHandle*)&amp;proc);</span>
<span class="lineNum">     664 </span><span class="lineNoCov">          0 :         mustKillProc = TRUE;</span>
<span class="lineNum">     665 </span>            :     }
<span class="lineNum">     666 </span>            :     else
<span class="lineNum">     667 </span><span class="lineNoCov">          0 :         mustKillProc = FALSE;</span>
<span class="lineNum">     668 </span><span class="lineNoCov">          0 :     NZ(proc) -&gt; initForSXP(baseTree);</span>
<span class="lineNum">     669 </span><span class="lineNoCov">          0 :     stringValue = NULL;</span>
<span class="lineNum">     670 </span><span class="lineNoCov">          0 :     numberValue = NULL;</span>
<a name="671"><span class="lineNum">     671 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">     672 </span>            : 
<span class="lineNum">     673 </span><span class="lineNoCov">          0 : QueryContextClass::~QueryContextClass()</span>
<span class="lineNum">     674 </span>            : {
<span class="lineNum">     675 </span><span class="lineNoCov">          0 :     proc -&gt; cleanupAfterRun(NULL);</span>
<span class="lineNum">     676 </span><span class="lineNoCov">          0 :     cdelete(queryExpression);</span>
<span class="lineNum">     677 </span><span class="lineNoCov">          0 :     cdelete(resultExpression);</span>
<span class="lineNum">     678 </span><span class="lineNoCov">          0 :     cdelete(baseTree);</span>
<span class="lineNum">     679 </span><span class="lineNoCov">          0 :     cdelete(stringValue);</span>
<span class="lineNum">     680 </span><span class="lineNoCov">          0 :     cdelete(numberValue);</span>
<span class="lineNum">     681 </span><span class="lineNoCov">          0 :     if (mustKillProc)</span>
<span class="lineNum">     682 </span><span class="lineNoCov">          0 :         cdelete(proc);</span>
<a name="683"><span class="lineNum">     683 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">     684 </span>            : 
<span class="lineNum">     685 </span><span class="lineNoCov">          0 : eFlag QueryContextClass::query(</span>
<span class="lineNum">     686 </span>            :     const SXP_char* queryText,
<span class="lineNum">     687 </span>            :     SXP_Node n,
<span class="lineNum">     688 </span>            :     int contextPosition,
<span class="lineNum">     689 </span>            :     int contextSize)
<span class="lineNum">     690 </span>            : {
<span class="lineNum">     691 </span>            :     eFlag ecode;
<span class="lineNum">     692 </span>            :     //we have to mask the passed-in node handle
<span class="lineNum">     693 </span><span class="lineNoCov">          0 :     n = SXP_MASK_LEVEL(n, theSituation-&gt;getSXPMaskBit());</span>
<span class="lineNum">     694 </span>            : 
<span class="lineNum">     695 </span><span class="lineNoCov">          0 :     cdelete(queryExpression); // unnecessary but just in case</span>
<span class="lineNum">     696 </span><span class="lineNoCov">          0 :     cdelete(resultExpression);</span>
<span class="lineNum">     697 </span><span class="lineNoCov">          0 :     cdelete(stringValue);</span>
<span class="lineNum">     698 </span><span class="lineNoCov">          0 :     cdelete(numberValue);</span>
<span class="lineNum">     699 </span><span class="lineNoCov">          0 :     GP( Tree ) baseTreeNew = new Tree((char*)&quot;&quot;, FALSE);</span>
<span class="lineNum">     700 </span><span class="lineNoCov">          0 :     queryExpression = new Expression(baseTree -&gt; getRoot());</span>
<span class="lineNum">     701 </span><span class="lineNoCov">          0 :     resultExpression = new Expression((*baseTreeNew).getRoot());</span>
<span class="lineNum">     702 </span><span class="lineNoCov">          0 :     proc -&gt; initForSXP(baseTree);</span>
<span class="lineNum">     703 </span><span class="lineNoCov">          0 :     ecode = queryExpression -&gt; parse(*theSituation, queryText);</span>
<span class="lineNum">     704 </span><span class="lineNoCov">          0 :     if (!ecode)</span>
<span class="lineNum">     705 </span>            :     {
<span class="lineNum">     706 </span><span class="lineNoCov">          0 :       Context c(NULL); //no current node !!!</span>
<span class="lineNum">     707 </span><span class="lineNoCov">          0 :       c.setVirtual(n, contextPosition, contextSize);</span>
<span class="lineNum">     708 </span><span class="lineNoCov">          0 :       ecode = queryExpression -&gt; eval(*theSituation, *resultExpression, &amp;c);</span>
<span class="lineNum">     709 </span>            :     }
<span class="lineNum">     710 </span><span class="lineNoCov">          0 :     cdelete(queryExpression);</span>
<span class="lineNum">     711 </span><span class="lineNoCov">          0 :     cdelete(baseTree);</span>
<span class="lineNum">     712 </span><span class="lineNoCov">          0 :     baseTree = baseTreeNew.keep();</span>
<span class="lineNum">     713 </span><span class="lineNoCov">          0 :     proc -&gt; cleanupAfterSXP();</span>
<span class="lineNum">     714 </span><span class="lineNoCov">          0 :     return ecode;</span>
<a name="715"><span class="lineNum">     715 </span>            : }</a>
<span class="lineNum">     716 </span>            : 
<span class="lineNum">     717 </span><span class="lineNoCov">          0 : eFlag QueryContextClass::addVariableBinding(</span>
<span class="lineNum">     718 </span>            :     const SXP_char* name, 
<span class="lineNum">     719 </span>            :     QueryContextClass &amp;source)
<span class="lineNum">     720 </span>            : {
<span class="lineNum">     721 </span><span class="lineNoCov">          0 :     return addVariableExpr(name, source.getExpression_());</span>
<a name="722"><span class="lineNum">     722 </span>            : }</a>
<span class="lineNum">     723 </span>            : 
<span class="lineNum">     724 </span><span class="lineNoCov">          0 : eFlag QueryContextClass::addVariableExpr(</span>
<span class="lineNum">     725 </span>            :     const SXP_char* name, 
<span class="lineNum">     726 </span>            :     Expression* value)
<span class="lineNum">     727 </span>            : {
<span class="lineNum">     728 </span><span class="lineNoCov">          0 :     QName q;</span>
<span class="lineNum">     729 </span><span class="lineNoCov">          0 :     E( baseTree -&gt; getRoot().setLogical(*theSituation, q, (char*)name, TRUE) );</span>
<span class="lineNum">     730 </span><span class="lineNoCov">          0 :     E( proc -&gt; vars -&gt; addBinding(*theSituation, q, value, TRUE) );</span>
<span class="lineNum">     731 </span><span class="lineNoCov">          0 :     return OK;</span>
<a name="732"><span class="lineNum">     732 </span>            : }</a>
<span class="lineNum">     733 </span>            : 
<span class="lineNum">     734 </span><span class="lineNoCov">          0 : Expression* QueryContextClass::getNewExpr()</span>
<span class="lineNum">     735 </span>            : {
<span class="lineNum">     736 </span><span class="lineNoCov">          0 :     return new Expression(baseTree -&gt; getRoot());</span>
<a name="737"><span class="lineNum">     737 </span>            : }</a>
<span class="lineNum">     738 </span>            : 
<span class="lineNum">     739 </span><span class="lineNoCov">          0 : eFlag QueryContextClass::addNamespaceDeclaration(</span>
<span class="lineNum">     740 </span>            :     const SXP_char* prefix, 
<span class="lineNum">     741 </span>            :     const SXP_char* uri)
<span class="lineNum">     742 </span>            : {
<span class="lineNum">     743 </span><span class="lineNoCov">          0 :     baseTree -&gt; getRoot().namespaces.append(</span>
<span class="lineNum">     744 </span><span class="lineNoCov">          0 :         new(&amp;(baseTree -&gt; getArena())) NmSpace(*baseTree, </span>
<span class="lineNum">     745 </span><span class="lineNoCov">          0 :                     baseTree -&gt; unexpand(prefix),</span>
<span class="lineNum">     746 </span><span class="lineNoCov">          0 :                     baseTree -&gt; unexpand(uri),</span>
<span class="lineNum">     747 </span><span class="lineNoCov">          0 :                     NSKIND_DECLARED));    </span>
<span class="lineNum">     748 </span><span class="lineNoCov">          0 :     return OK;</span>
<a name="749"><span class="lineNum">     749 </span>            : }</a>
<span class="lineNum">     750 </span>            : 
<span class="lineNum">     751 </span><span class="lineNoCov">          0 : Expression* QueryContextClass::getExpression_() const</span>
<span class="lineNum">     752 </span>            : {
<span class="lineNum">     753 </span><span class="lineNoCov">          0 :     return resultExpression;</span>
<a name="754"><span class="lineNum">     754 </span>            : }</a>
<span class="lineNum">     755 </span>            : 
<span class="lineNum">     756 </span><span class="lineNoCov">          0 : SXP_ExpressionType QueryContextClass::getType()</span>
<span class="lineNum">     757 </span>            : {
<span class="lineNum">     758 </span><span class="lineNoCov">          0 :     if (!resultExpression)</span>
<span class="lineNum">     759 </span>            :         return SXP_NONE;
<span class="lineNum">     760 </span><span class="lineNoCov">          0 :     switch(resultExpression -&gt; type)</span>
<span class="lineNum">     761 </span>            :     {
<span class="lineNum">     762 </span>            :         case EX_NUMBER: return SXP_NUMBER;
<span class="lineNum">     763 </span>            :             case EX_STRING: return SXP_STRING;
<span class="lineNum">     764 </span>            :             case EX_BOOLEAN: return SXP_BOOLEAN;
<span class="lineNum">     765 </span>            :             case EX_NODESET: return SXP_NODESET;
<span class="lineNum">     766 </span>            :             default: return SXP_NONE;
<span class="lineNum">     767 </span>            :     }
<a name="768"><span class="lineNum">     768 </span>            : }</a>
<span class="lineNum">     769 </span>            : 
<span class="lineNum">     770 </span><span class="lineNoCov">          0 : const Number* QueryContextClass::getNumber()</span>
<span class="lineNum">     771 </span>            : {
<span class="lineNum">     772 </span><span class="lineNoCov">          0 :     if (!resultExpression)</span>
<span class="lineNum">     773 </span>            :         return NULL;
<span class="lineNum">     774 </span>            :         else
<span class="lineNum">     775 </span>            :         {
<span class="lineNum">     776 </span><span class="lineNoCov">          0 :             cdelete(numberValue);</span>
<span class="lineNum">     777 </span><span class="lineNoCov">          0 :             numberValue = new Number(resultExpression -&gt; tonumber(*theSituation));</span>
<span class="lineNum">     778 </span><span class="lineNoCov">          0 :             return numberValue;</span>
<span class="lineNum">     779 </span>            :         }
<a name="780"><span class="lineNum">     780 </span>            : }</a>
<span class="lineNum">     781 </span>            : 
<span class="lineNum">     782 </span><span class="lineNoCov">          0 : const Str* QueryContextClass::getString()</span>
<span class="lineNum">     783 </span>            : {
<span class="lineNum">     784 </span><span class="lineNoCov">          0 :     if (!resultExpression)</span>
<span class="lineNum">     785 </span>            :         return NULL;
<span class="lineNum">     786 </span>            :         else
<span class="lineNum">     787 </span>            :         {
<span class="lineNum">     788 </span><span class="lineNoCov">          0 :             if (!stringValue) stringValue = new Str;</span>
<span class="lineNum">     789 </span>            :             // should be checked for error
<span class="lineNum">     790 </span><span class="lineNoCov">          0 :             resultExpression -&gt; tostring(*theSituation, *stringValue);</span>
<span class="lineNum">     791 </span><span class="lineNoCov">          0 :             return stringValue;</span>
<span class="lineNum">     792 </span>            :         }
<a name="793"><span class="lineNum">     793 </span>            : }</a>
<span class="lineNum">     794 </span>            : 
<span class="lineNum">     795 </span><span class="lineNoCov">          0 : Bool QueryContextClass::getBoolean()</span>
<span class="lineNum">     796 </span>            : {
<span class="lineNum">     797 </span><span class="lineNoCov">          0 :     if (!resultExpression)</span>
<span class="lineNum">     798 </span>            :         return FALSE;
<span class="lineNum">     799 </span>            :         else
<span class="lineNum">     800 </span><span class="lineNoCov">          0 :             return resultExpression -&gt; tobool();</span>
<a name="801"><span class="lineNum">     801 </span>            : }</a>
<span class="lineNum">     802 </span>            : 
<span class="lineNum">     803 </span><span class="lineNoCov">          0 : const Context* QueryContextClass::getNodeset()</span>
<span class="lineNum">     804 </span>            : {
<span class="lineNum">     805 </span><span class="lineNoCov">          0 :     if (!resultExpression || resultExpression -&gt; type != EX_NODESET)</span>
<span class="lineNum">     806 </span>            :         return NULL;
<span class="lineNum">     807 </span>            :         else
<span class="lineNum">     808 </span><span class="lineNoCov">          0 :             return &amp;(resultExpression -&gt; tonodesetRef());</span>
<span class="lineNum">     809 </span>            : }
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.10</a></td></tr>
  </table>
  <br>

</body>
</html>
